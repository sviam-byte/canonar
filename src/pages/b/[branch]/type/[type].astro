---
import { loadCardsByBranch } from "@/lib/content";
const { branch, type } = Astro.params as { branch: string; type: string };
const cards = loadCardsByBranch(branch).filter(c => c.type === type);
---

<h1 style="max-width:980px;margin:40px auto 12px;padding:0 16px;">{type}s â€” {branch}</h1>
<div style="max-width:980px;margin:0 auto;padding:0 16px;display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:12px;">
  {cards.map(c => (
    <a href={`/${branch}/card/${c.type}/${c.slug}`} style="padding:12px;border:1px solid #333;border-radius:10px;color:#ddd;text-decoration:none;">
      <div style="font-weight:700;">{c.title}</div>
      <div style="opacity:.7;font-size:12px;">{c.subtitle || ""}</div>
    </a>
  ))}
</div>
